from homescreen import *
from menu import *
from tkinter import *
from modify_data import *
import time

MENU_ITEMS = ("Update Login", "Delete Login", "Portrait View", "Landscape View", "View All", "Tutorial", "FAQ")
DISABLE_STATE = ("Update Login", "Delete Login", "View All")


class MenuBar:
    def __init__(self, root, frame):
        self.menu_bar = Menu(root)
        self.make_menu(frame)
        root.config(menu=self.menu_bar)

    def edit_menu(self, menu_cmd, sel_state):
        edit_menu = Menu(self.menu_bar, tearoff="off")
        edit_menu.add_command(label="Update Login", command=menu_cmd, state=sel_state)
        edit_menu.add_command(label="Delete Login", command=menu_cmd, state=sel_state)
        self.menu_bar.add_cascade(label="Edit", menu=edit_menu)

    def view_menu(self, menu_cmd, sel_state):
        view_menu = Menu(self.menu_bar, tearoff="off")
        view_menu.add_command(label="Landscape", command=menu_cmd, state=sel_state)
        view_menu.add_command(label="Portrait", command=menu_cmd, state=sel_state)
        view_menu.add_separator()
        view_menu.add_command(label="View All", command=menu_cmd, state=sel_state)
        self.menu_bar.add_cascade(label="View", menu=view_menu)

    def help_menu(self, menu_cmd, sel_state):
        edit_menu = Menu(self.menu_bar, tearoff="off")
        edit_menu.add_command(label="Tutorial", command=menu_cmd, state=sel_state)
        edit_menu.add_command(label="FAQ", command=menu_cmd, state=sel_state)
        self.menu_bar.add_cascade(label="Help", menu=edit_menu)

    def make_menu(self, cmd):
        try:
            read_data()
        except FileNotFoundError:
            self.edit_menu(cmd, "disabled")
            self.view_menu(cmd, "disabled")
            self.help_menu(cmd, "disabled")
        else:
            self.edit_menu(cmd, "normal")
            self.view_menu(cmd, "normal")
            self.help_menu(cmd, "normal")
            

# Root Window & Main Frame
app = AppWindow("Account Simple  4.0")
frame = AppFrame(app)
MenuBar(app, frame.update_login)

# TODO #1: Create a Menu bar for Root Window
# menu_bar = Menu(app)
# app.config(menu=menu_bar)

# Menu bar tabs
# make_menu("Edit", 0, 2, False, frame.update_login)
# make_menu("View", 2, 5, True, frame.update_login)
# make_menu("Help", 5, 8, False, frame.update_login)
# # menu_bar.delete("Edit")

app.mainloop()
